---
import bagicon from '../../public/image/bag-shopping-solid.svg'
import closeIcon from '../../public/image/close-icon.svg'
---
<div x-data="shoppingBag" x-on:click="handleModal" class="relative">
    <div 
        x-data 
        x-show="$store.service.shopList.length != 0" 
        class="-top-1.5 -right-2 flex justify-center items-center absolute rounded-full w-2.5 h-2.5 z-10 bg-brighter1 text-[10px] text-darker2"
        x-text="$store.service.shopList.length"
    ></div>
    <img class="w-[20px] h-[24px] lg:w-[26px] lg:h-[30px] 2xl:w-[30px] 2xl:h-[34px]" src={bagicon.src} alt="shop-bag-icon">
    <div 
      x-show="showModal" 
      x-cloak 
      class="fixed inset-0 z-40 flex justify-center items-center"
    >
      <!-- Overlay -->
      <div  
        x-transition
        @click="showModal = false"  
        class="absolute inset-0 bg-gray-400 opacity-75"
      ></div>
    
      <!-- Modal Content -->
      <section 
        x-transition 
        class="z-50 relative flex flex-col justify-center items-center shadow-2xs bg-primary w-full h-full max-h-[80dvh] max-w-[90dvw] rounded-lg"
        @click.stop
      >
        <!-- Close Icon -->
        <img 
          class="absolute top-2 right-2 2xl:top-4 2xl:right-4  w-[20px] h-[20px] z-50 cursor-pointer" 
          src={closeIcon.src} 
          alt="close icon"
          @click="showModal = false" 
        >

        <!-- Conditional Content -->
        <template x-if="$store.service.shopList.length === 0">
          <h4 class="z-50 text-darker2">
            shopping cart is empty
          </h4>
        </template>

        <template x-if="$store.service.shopList.length !== 0">
          <h4 class="z-50 text-darker2">
            shopping cart has items
          </h4>
        </template>
      </section>
    </div>
</div>